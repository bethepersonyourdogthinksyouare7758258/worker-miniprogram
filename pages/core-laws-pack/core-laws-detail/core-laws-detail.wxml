<!--pages/core-laws-pack/core-laws-detail/core-laws-detail.wxml-->
<view class="container">
  <!-- 头部信息 -->
  <view class="header" wx:if="{{item}}">
    <view class="title-section">
      <text class="main-title">{{item.title}}</text>
      <view class="tag-section">
        <text class="tag tag-primary">{{item.tag}}</text>
        <text class="tag tag-legal" wx:if="{{item.legalTag}}">{{item.legalTag}}</text>
      </view>
    </view>
  </view>

  <!-- 场景详情内容 -->
  <view class="content-section" wx:if="{{item && item.type === 'scenario'}}">
    <!-- 简要说明 -->
    <view class="summary-section" wx:if="{{item.summary}}">
      <view class="section-header">
        <text class="section-title">简要说明</text>
      </view>
      <view class="section-content">
        <text class="summary-text">{{item.summary}}</text>
      </view>
    </view>

    <!-- 适用条件 -->
    <view class="conditions-section" wx:if="{{item.conditions}}">
      <view class="section-header">
        <text class="section-title">适用条件</text>
        <button class="copy-btn" bindtap="onCopyContent" data-content="{{item.conditions}}">
          复制
        </button>
      </view>
      <view class="section-content">
        <text class="conditions-text">{{item.conditions}}</text>
      </view>
    </view>

    <!-- 维权步骤 -->
    <view class="steps-section" wx:if="{{item.steps && item.steps.length > 0}}">
      <view class="section-header">
        <text class="section-title">维权步骤</text>
        <button class="copy-btn" bindtap="onCopySteps" data-item="{{item}}">
          复制
        </button>
      </view>
      <view class="section-content">
        <view class="step-item" wx:for="{{item.steps}}" wx:key="index">
          <text class="step-number">{{index + 1}}</text>
          <text class="step-text">{{item}}</text>
        </view>
      </view>
    </view>

    <!-- 详细说明 -->
    <view class="explanation-section" wx:if="{{item.explanation}}">
      <view class="section-header">
        <text class="section-title">详细说明</text>
        <button class="copy-btn" bindtap="onCopyContent" data-content="{{item.explanation}}">
          复制
        </button>
      </view>
      <view class="section-content">
        <text class="explanation-text">{{item.explanation}}</text>
      </view>
    </view>

    <!-- 法律依据 -->
    <view class="legal-basis-section" wx:if="{{item.legalBasis}}">
      <view class="section-header">
        <text class="section-title">法律依据</text>
        <button class="copy-btn" bindtap="onCopyContent" data-content="{{item.legalBasis}}">
          复制
        </button>
      </view>
      <view class="section-content">
        <text class="legal-basis-text">{{item.legalBasis}}</text>
      </view>
    </view>

    <!-- 内容提供者信息 -->
    <view class="provider-section" wx:if="{{item.provider}}">
      <view class="provider-info">
        <text class="provider-label">内容提供者：</text>
        <text class="provider-name">{{item.provider}}</text>
        <text class="provider-label" wx:if="{{item.reviewer}}"> | 审核者：</text>
        <text class="provider-name" wx:if="{{item.reviewer}}">{{item.reviewer}}</text>
      </view>
    </view>
  </view>

  <!-- 知识条目详情内容 -->
  <view class="content-section" wx:if="{{item && item.type === 'knowledge'}}">
    <!-- 简明结论 -->
    <view class="summary-section" wx:if="{{item.summary}}">
      <view class="section-header">
        <text class="section-title">简明结论</text>
        <button class="copy-btn" bindtap="onCopyContent" data-content="{{item.summary}}">
          复制
        </button>
      </view>
      <view class="section-content">
        <text class="summary-text">{{item.summary}}</text>
      </view>
    </view>

    <!-- 法律依据 -->
    <view class="legal-basis-section" wx:if="{{item.legalBasis}}">
      <view class="section-header">
        <text class="section-title">法律依据</text>
        <button class="copy-btn" bindtap="onCopyContent" data-content="{{item.legalBasis}}">
          复制
        </button>
      </view>
      <view class="section-content">
        <text class="legal-basis-text">{{item.legalBasis}}</text>
      </view>
    </view>

    <!-- 工具链接 -->
    <view class="tool-link-section" wx:if="{{item.toolLink && item.toolLink !== '无'}}">
      <view class="section-header">
        <text class="section-title">相关工具</text>
      </view>
      <view class="section-content">
        <text class="tool-link-text">{{item.toolLink}}</text>
      </view>
    </view>

    <!-- 内容提供者信息 -->
    <view class="provider-section" wx:if="{{item.provider}}">
      <view class="provider-info">
        <text class="provider-label">内容提供者：</text>
        <text class="provider-name">{{item.provider}}</text>
      </view>
    </view>
  </view>

  <!-- 底部操作按钮 -->
  <view class="bottom-actions" wx:if="{{item}}">
    <button class="action-btn primary" bindtap="onCopyAll">
      复制全部内容
    </button>
    <button class="action-btn secondary" bindtap="onGoBack">
      返回列表
    </button>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{!item}}">
    <image class="empty-icon" src="/images/empty.png" />
    <text class="empty-text">内容加载中...</text>
  </view>

</view>

<view class="container">
  <!-- 1. 页面标题区域 -->
  <view class="header">
    <text class="title">一次性工亡赔付计算器</text>
  </view>
  <view class="subtitle">根据《工伤保险条例》，计算因工死亡后应得的法定补助金。</view>

  <!-- 2. 2025年补助金标准说明 -->
  <view class="standard-card">
    <text class="standard-title">2025年补助金标准</text>
    <text class="standard-content">2025年1月17日上午10点，国家统计局官网准时发布《2024年经济运行稳中有进 主要发展目标顺利实现》，其中城镇居民人均可支配收入54188元，根据《工伤保险条例》第39条之规定，职工因工死亡，其近亲属按照规定从工伤保险基金领取的一次性工亡补助金标准为上一年度全国城镇居民人均可支配收入的20倍。因此2025年度全国一次性工亡补助金标准统一为: 城镇居民人均可支配收入54188元×20=1083760元。 来源:人社部</text>
  </view>

  <!-- 3. 核心输入区域 -->
  <view class="card">
    <view class="input-group">
      <text class="label">全国城镇居民人均可支配收入 (元)</text>
      <text class="description">通常在每年年初或上半年查询到上一年度的官方数据。</text>
      <view class="copyable-text" bindtap="copyIncomeText">
        <text class="copy-text">国家统计局 xxxx年全国城镇居民人均可支配收入</text>
        <text class="copy-icon">复制后可前往公众号搜索</text>
      </view>
      <input type="digit" class="input" placeholder="请填写国家统计局发布的最新数据" bindinput="bindKeyInput" data-field="pn" />
    </view>
  </view>

  <!-- 4. 计算按钮 -->
  <button class="btn-calculate" bindtap="calculate">计算</button>

  <!-- 5. 结果显示区域 -->
  <view class="result-area" wx:if="{{result !== null}}">
    <view class="result-card">
      <text class="result-label-main">一次性工亡补助金总额</text>
      <view class="result-value-container">
        <text class="result-value">{{result}} 元</text>
      </view>
      <button class="btn-copy" bindtap="copyResult">复制结果</button>
    </view>

    <!-- 6. 详细计算过程 -->
    <view class="detail-card" wx:if="{{detailProcess}}">
      <view class="detail-toggle" bindtap="toggleDetail">
        <text>详细计算过程</text>
        <text class="detail-toggle-icon">{{showDetail ? '▲' : '▼'}}</text>
      </view>
      <view class="detail-process" wx:if="{{showDetail}}">
        <text class="detail-content">{{detailProcess}}</text>
      </view>
    </view>
  </view>
</view>
